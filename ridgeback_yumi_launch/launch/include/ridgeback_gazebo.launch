<?xml version="1.0"?>
<launch>

  <rosparam command="load" file="$(find ridgeback_control)/config/control.yaml"/>
  <node pkg="robot_localization" type="ekf_localization_node" name="ekf_localization" />
  <node pkg="topic_tools" type="relay" name="cmd_vel_relay" args="cmd_vel  ridgeback_velocity_controller/cmd_vel" />

  <arg name="ridgeback_controllers" default="ridgeback_joint_publisher 
                                             ridgeback_velocity_controller
                                             --shutdown-timeout 1" />
  <node name="ridgeback_controller_spawner" pkg="controller_manager" type="spawner" respawn="false" output="screen" args="$(arg ridgeback_controllers)"/>
  
  <include file="$(find ridgeback_control)/launch/teleop.launch">
      <arg name="joystick" value="false"/>
  </include>
  
</launch>